<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#222222" id="theme-color-meta">
    <title>Marcador Truco Pro</title>

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png"> <link rel="stylesheet" href="styles.css">

    <script>
        // Registra o Service Worker para funcionalidade offline
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then(registration => {
                    console.log('SW registrado com escopo:', registration.scope);
                }, function(err) {
                    console.log('Falha no registro do SW:', err);
                });
            });
        }
    </script>
</head>
<body class="dark-theme">

<div id="player-mode-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h2>Selecione o Modo de Jogo</h2>
        <p>Quantos jogadores participar√£o da partida?</p>
        <div class="modal-actions">
            <button id="select-2-players-btn" class="modal-button">2 Jogadores</button>
            <button id="select-4-players-btn" class="modal-button">4 Jogadores</button>
        </div>
        <p class="modal-note">Esta escolha definir√° o rod√≠zio do embaralhador.</p>
    </div>
</div>

<div class="scoreboard">
    <div class="top-config-buttons">
        <button id="theme-toggle-btn" title="Alternar Tema">‚òÄÔ∏è</button> <button id="sound-toggle-btn" title="Alternar Som">üîä</button> </div>

    <h1>Marcador Truco Pro</h1>

    <div class="timer-section">
        <h3>Tempo do Jogo Atual:</h3>
        <p id="current-timer-display">00:00</p>
    </div>

    <div class="match-wins-section">
        <h2>Partidas Ganhas</h2>
        <div class="match-wins-display">
            <span id="match-wins-nos" class="nos">0</span> vs <span id="match-wins-eles" class="eles">0</span>
        </div>
    </div>

    <div class="dealer-section">
        <h3>Embaralhador Atual:</h3>
        <p id="current-dealer-name">-- Carregando --</p>
        <button id="next-dealer-btn">Pr√≥ximo Embaralhador</button>
    </div>

    <hr>
    <div class="teams">
        <div class="team">
            <h2 id="team-name-nos">N√≥s</h2>
            <div id="score-nos" class="score nos">0</div>
            <div class="controls">
                <button class="remove" data-team="nos" data-amount="-1" aria-label="Remover 1 ponto N√≥s">-1</button>
                <button class="add" data-team="nos" data-amount="1" data-speak="um" aria-label="Adicionar 1 ponto N√≥s">+1</button>
                <button class="truco-btn" data-team="nos" data-amount="3" data-speak="Truco" aria-label="Adicionar 3 pontos N√≥s">+3</button>
                <button class="truco-btn" data-team="nos" data-amount="6" data-speak="Seis" aria-label="Adicionar 6 pontos N√≥s">+6</button>
                <button class="truco-btn" data-team="nos" data-amount="9" data-speak="Nove" aria-label="Adicionar 9 pontos N√≥s">+9</button>
                <button class="truco-btn" data-team="nos" data-amount="12" data-speak="Doze" aria-label="Adicionar 12 pontos N√≥s">+12</button>
            </div>
            </div>
        <div class="team">
            <h2 id="team-name-eles">Eles</h2>
            <div id="score-eles" class="score eles">0</div>
            <div class="controls">
                <button class="remove" data-team="eles" data-amount="-1" aria-label="Remover 1 ponto Eles">-1</button>
                <button class="add" data-team="eles" data-amount="1" data-speak="um" aria-label="Adicionar 1 ponto Eles">+1</button>
                <button class="truco-btn" data-team="eles" data-amount="3" data-speak="Truco" aria-label="Adicionar 3 pontos Eles">+3</button>
                <button class="truco-btn" data-team="eles" data-amount="6" data-speak="Seis" aria-label="Adicionar 6 pontos Eles">+6</button>
                <button class="truco-btn" data-team="eles" data-amount="9" data-speak="Nove" aria-label="Adicionar 9 pontos Eles">+9</button>
                <button class="truco-btn" data-team="eles" data-amount="12" data-speak="Doze" aria-label="Adicionar 12 pontos Eles">+12</button>
            </div>
            </div>
    </div>

    <div class="undo-section">
        <button id="undo-button" disabled>Desfazer √öltima A√ß√£o</button>
    </div>

    <hr>
    <div class="history-section">
        <h3>Placar Anterior (Jogo Atual)</h3>
        <div class="history-score">
            <span id="prev-score-nos" class="nos">-</span> a <span id="prev-score-eles" class="eles">-</span>
        </div>
    </div>

    <div class="duration-history-section">
        <h4>Hist√≥rico de Dura√ß√£o das Partidas:</h4>
        <ul id="duration-history-list">
            <li>Carregando hist√≥rico...</li>
        </ul>
    </div>

    <div class="action-buttons">
        <button id="edit-teams-btn">Editar Nomes</button> <button class="reset-game-button" id="reset-game-btn">Reiniciar Partida Atual</button>
        <button id="change-game-mode-btn">Alterar Modo de Jogo</button>
        <button class="reset-all-button" id="reset-all-btn">Zerar Placar Geral</button>
        <button id="export-history-btn">Exportar Hist√≥rico</button>
    </div>

    <div class="footer-credit">
        <p>Desenvolvido por Jacson A. Duarte e colabora√ß√£o inicial Diego Galafassi</p>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
